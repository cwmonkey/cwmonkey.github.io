window.cwmStartPage=window.cwmStartPage||{},window.cwmStartPage.load=function(t){"use strict";var A=function(){},e=null,a=null,n=function(){var A=function(){e&&a&&(document.location="http:"+t.cwmBookmarkletUrl+"/start-page.html#href="+encodeURIComponent(document.location.href)+"&title="+encodeURIComponent(document.title)+"&thumb="+encodeURIComponent(e)+"&icon="+encodeURIComponent(a))},n=function(t,A,e){var a=0,n=t.getContext("2d"),i=document.createElement("canvas"),o=i.getContext("2d");i.width=t.width,i.height=t.height,o.putImageData(n.getImageData(0,0,t.width,t.height),0,0);for(var h=i.width,g=i.height,c=i.width,d=i.height,r=!1,m=.55;0==r;)a+=1,h*=m,g*=m,A>h&&(h=A,g=e,r=!0),o.drawImage(i,0,0,Math.round(c),Math.round(d),0,0,Math.round(h),Math.round(g)),c=h,d=g;t.width=A,t.height=e,n.putImageData(o.getImageData(0,0,t.width,t.height),0,0)};html2canvas(document.body,{useCORS:!0,onrendered:function(t){var a,i,o=new Image,h=t.getContext("2d"),g=document.createElement("canvas"),c=g.getContext("2d"),d=138,r=83,m=d/r;o.onload=function(){o.width/o.height>m?(a=d/r*o.height,i=o.height):o.width/o.height<m&&(a=o.width,i=r/d*o.width),g.width=o.width,g.height=o.height,c.drawImage(o,0,0),t.width=a,t.height=i,h.drawImage(g,0,0,a,i,0,0,a,i),n(t,d,r);try{e=t.toDataURL("image/png")}catch(u){e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}A()},o.onerror=function(){e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",A()},o.src=t.toDataURL("image/gif")}});var i=new Image,o=document.createElement("canvas"),h=o.getContext("2d");i.onload=function(){o.width=16,o.height=16,h.drawImage(i,0,0,16,16);try{a=o.toDataURL("image/gif")}catch(t){a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}A()},i.onerror=function(){for(var t="",A=document.getElementsByTagName("link"),e=0;e<A.length;e++){var a=A[e],n='"'+a.getAttribute("rel")+'"',o=/(\"icon )|( icon\")|(\"icon\")|( icon )/i;-1!=n.search(o)&&(t=a.getAttribute("href"))}i.onerror=function(){t="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},i.src=t},i.src="/favicon.ico"};t.cwmStartPage={main:n},A()};