!function(){var t,e,n,a,l,o,r,i=!1,s='<link rel="stylesheet" id="trello-swimlane-navigation-css"/>';$css=$(s).appendTo("head"),$css.attr({href:window.cwmBookmarkletUrl+"/trello-swimlane-navigation.css?1"});var c=function(){return"undefined"==typeof jQuery?void setTimeout(c,500):void function(s){s(function(){if(t=s("#board"),n=s(".board-canvas"),l=s("#content"),e=s(".board-wrapper"),a=t.find(".list"),o=t.find(".list-card"),r=s("#trello-swimlane-navigation-css"),!(r.length&&"loaded"==r.css("content")&&l.length&&e.length&&n.length&&t.length&&a.length&&o.length))return void setTimeout(c,500);var d=s("<menu/>").addClass("lane-menu");a.each(function(){var t=s(this),e=t.find(".list-header-name").text();if(e){var n=s("<button/>").html(e);n.data("target",t),d.append(n)}}),l.prepend(d);var f=d.width();if(l.css({"padding-left":f+10}),d.delegate("button","click",function(e){e.preventDefault();var n=s(this),a=n.data("target"),l=a.position().left+t.scrollLeft();t.animate({scrollLeft:l},"fast"),localStorage.setItem("scrollToLeft",l)}),!i){i=!0;var u=!1;t.bind("scroll",function(){u||(u=!0,setTimeout(function(){localStorage.setItem("scrollToLeft",t.scrollLeft()),u=!1},100))});var v=localStorage.getItem("scrollToLeft");v&&t.animate({scrollLeft:v},"fast")}var g=setInterval(function(){d.parent().length||(clearInterval(g),c())},500)})}(window.jQuery)};c()}();